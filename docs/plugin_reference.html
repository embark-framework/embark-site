<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head prefix="og: http://ogp.me/ns#"><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  <title>Plugin APIs | Embark</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Canonical links -->
  <link rel="canonical" href="https://embark.status.im/docs/plugin_reference.html">
  <!-- Alternative links -->
  

  <!-- Icon -->
  <meta name="msapplication-TileColor" content="#080E1A">
  <link rel="icon" type="image/png" href="/assets/images/favicon-16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/assets/images/favicon-32.png" sizes="32x32">

  <link rel="apple-touch-icon" sizes="76x76" href="/assets/images/apple-touch-icon-60x60-precomposed.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/images/apple-touch-icon-76x76-precomposed.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/images/apple-touch-icon-120x120-precomposed.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/images/apple-touch-icon-152x152-precomposed.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/apple-touch-icon-precomposed.png">
  <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon-precomposed.png">
  <!-- CSS -->
  <link rel="stylesheet" href="/css/embark.css">
  <!-- endbuild -->

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css">

  <!-- RSS -->
  <link rel="alternate" href="/atom.xml" title="Embark">
  <meta property="og:image" content="/img/share.png?v=0.0.5">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.4/styles/dracula.min.css">

  <script async defer src="https://buttons.github.io/buttons.js"></script>


<script>
  !function(root, factory) {
    "function" == typeof define && define.amd ? // AMD. Register as an anonymous module unless amdModuleId is set
    define([], function() {
        return root.svg4everybody = factory();
    }) : "object" == typeof module && module.exports ? // Node. Does not work with strict CommonJS, but
    // only CommonJS-like environments that support module.exports,
    // like Node.
    module.exports = factory() : root.svg4everybody = factory();
}(this, function() {
    /*! svg4everybody v2.1.9 | github.com/jonathantneal/svg4everybody */
    function embed(parent, svg, target) {
        // if the target exists
        if (target) {
            // create a document fragment to hold the contents of the target
            var fragment = document.createDocumentFragment(), viewBox = !svg.hasAttribute("viewBox") && target.getAttribute("viewBox");
            // conditionally set the viewBox on the svg
            viewBox && svg.setAttribute("viewBox", viewBox);
            // copy the contents of the clone into the fragment
            for (// clone the target
            var clone = target.cloneNode(!0); clone.childNodes.length; ) {
                fragment.appendChild(clone.firstChild);
            }
            // append the fragment into the svg
            parent.appendChild(fragment);
        }
    }
    function loadreadystatechange(xhr) {
        // listen to changes in the request
        xhr.onreadystatechange = function() {
            // if the request is ready
            if (4 === xhr.readyState) {
                // get the cached html document
                var cachedDocument = xhr._cachedDocument;
                // ensure the cached html document based on the xhr response
                cachedDocument || (cachedDocument = xhr._cachedDocument = document.implementation.createHTMLDocument(""),
                cachedDocument.body.innerHTML = xhr.responseText, xhr._cachedTarget = {}), // clear the xhr embeds list and embed each item
                xhr._embeds.splice(0).map(function(item) {
                    // get the cached target
                    var target = xhr._cachedTarget[item.id];
                    // ensure the cached target
                    target || (target = xhr._cachedTarget[item.id] = cachedDocument.getElementById(item.id)),
                    // embed the target into the svg
                    embed(item.parent, item.svg, target);
                });
            }
        }, // test the ready state change immediately
        xhr.onreadystatechange();
    }
    function svg4everybody(rawopts) {
        function oninterval() {
            // while the index exists in the live <use> collection
            for (// get the cached <use> index
            var index = 0; index < uses.length; ) {
                // get the current <use>
                var use = uses[index], parent = use.parentNode, svg = getSVGAncestor(parent), src = use.getAttribute("xlink:href") || use.getAttribute("href");
                if (!src && opts.attributeName && (src = use.getAttribute(opts.attributeName)),
                svg && src) {
                    if (polyfill) {
                        if (!opts.validate || opts.validate(src, svg, use)) {
                            // remove the <use> element
                            parent.removeChild(use);
                            // parse the src and get the url and id
                            var srcSplit = src.split("#"), url = srcSplit.shift(), id = srcSplit.join("#");
                            // if the link is external
                            if (url.length) {
                                // get the cached xhr request
                                var xhr = requests[url];
                                // ensure the xhr request exists
                                xhr || (xhr = requests[url] = new XMLHttpRequest(), xhr.open("GET", url), xhr.send(),
                                xhr._embeds = []), // add the svg and id as an item to the xhr embeds list
                                xhr._embeds.push({
                                    parent: parent,
                                    svg: svg,
                                    id: id
                                }), // prepare the xhr ready state change event
                                loadreadystatechange(xhr);
                            } else {
                                // embed the local id into the svg
                                embed(parent, svg, document.getElementById(id));
                            }
                        } else {
                            // increase the index when the previous value was not "valid"
                            ++index, ++numberOfSvgUseElementsToBypass;
                        }
                    }
                } else {
                    // increase the index when the previous value was not "valid"
                    ++index;
                }
            }
            // continue the interval
            (!uses.length || uses.length - numberOfSvgUseElementsToBypass > 0) && requestAnimationFrame(oninterval, 67);
        }
        var polyfill, opts = Object(rawopts), newerIEUA = /\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/, webkitUA = /\bAppleWebKit\/(\d+)\b/, olderEdgeUA = /\bEdge\/12\.(\d+)\b/, edgeUA = /\bEdge\/.(\d+)\b/, inIframe = window.top !== window.self;
        polyfill = "polyfill" in opts ? opts.polyfill : newerIEUA.test(navigator.userAgent) || (navigator.userAgent.match(olderEdgeUA) || [])[1] < 10547 || (navigator.userAgent.match(webkitUA) || [])[1] < 537 || edgeUA.test(navigator.userAgent) && inIframe;
        // create xhr requests object
        var requests = {}, requestAnimationFrame = window.requestAnimationFrame || setTimeout, uses = document.getElementsByTagName("use"), numberOfSvgUseElementsToBypass = 0;
        // conditionally start the interval if the polyfill is active
        polyfill && oninterval();
    }
    function getSVGAncestor(node) {
        for (var svg = node; "svg" !== svg.nodeName.toLowerCase() && (svg = svg.parentNode); ) {}
        return svg;
    }
    return svg4everybody;
});

svg4everybody();
</script>
</head>

  <body>
    <header role="banner" class="c-header c-header--compact">
  <span class="c-header__background"></span>
  <div class="o-container c-header__content">
    <div class="c-header__top">
      <a href="/" title="Embark" class="c-logo c-logo--negative">Embark</a>
      <nav role="navigation" class="c-navigation">
        <div class="c-navigation__header">
          <a href="/" title="Embark" class="c-logo">Embark</a>
          <button class="c-navigation__close u-text-light" title="Close menu">
            <svg class="c-icon c-icon--xs"><use xlink:href="/../assets/icons/symbols.svg#icon-close"/></svg>
          </button>
        </div>
        <div class="c-navigation__body">
          <ul class="c-navigation__list">
            <li class="c-navigation__item">
              <a href="/docs/quick_start.html" class="c-navigation__anchor " title="Quick Start">Quick Start</a>
            </li>
            <li class="c-navigation__item">
              <a href="/docs" class="c-navigation__anchor is-active" title="Learn">Learn</a>
            </li>
            <li class="c-navigation__item">
              <a href="/plugins" class="c-navigation__anchor " title="Plugins">Plugins</a>
            </li>
            <li class="c-navigation__item">
              <a href="/community" class="c-navigation__anchor " title="Community">Community</a>
            </li>
            <li class="c-navigation__item">
              <a href="/news" class="c-navigation__anchor " title="Blog">Blog</a>
            </li>
          </ul>
        </div>
      </nav>
      <div class="o-flex o-flex-center">
        <form action class="o-flex__item u-hidden-until-large">
          <input type="search" placeholder="Search" id="search-input">
        </form>
        <div class="o-flex__item">
          <ul class="o-flex o-flex-center">
            <li class="o-flex__item">
              <a href="https://github.com/embark-framework/embark" title="Github" target="_blank" class="u-link-ghost">
                <svg class="c-icon"><use xlink:href="/../assets/icons/symbols.svg#icon-github"/></svg>
              </a>
            </li>
            <li class="o-flex__item">
              <a href="https://twitter.com/EmbarkProject" title="Twitter" target="_blank">
                <svg class="c-icon"><use xlink:href="/../assets/icons/symbols.svg#icon-twitter"/></svg>
              </a>
            </li>
            <li class="o-flex__item u-hidden-large-up">
              <button type="button" class="c-navigation__trigger u-link-ghost" title="Open menu">
                <svg class="c-icon"><use xlink:href="/../assets/icons/symbols.svg#icon-navigation-menu"/></svg>
              </button>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="c-quick-search o-distance-m u-hidden-large-up">
      <input type="search" id="inp-search" placeholder="Search">
    </div>
    <div class="c-header__body">
      <h1 class="c-title u-text-ghost">Documentation</h1>

      

      
      
    </div>
  </div>
</header>


<main role="main">
  <section class="o-guided-content o-distance">
    <div class="o-guided-content__wrapper">
      <button title="Open docs menu" id="guides-trigger" class="c-button c-button--minion u-hidden-large-up">
        <svg class="c-icon c-icon--xs"><use xlink:href="/../../assets/icons/symbols.svg#icon-navigation-menu"/></svg>
        <span>Guides</span>
      </button>
      <div class="c-guide o-guided-content__guide" id="guide-navigation">
        <div class="c-guide__header u-hidden-large-up">
          <a href title="Guides">
            Guides
          </a>
          <button type="button" title="Close menu" id="guides-close">
            <svg class="c-icon c-icon--xs"><use xlink:href="/../../assets/icons/symbols.svg#icon-close"/></svg>
          </button>
        </div>
        <div class="c-guide__body">
          <nav role="navigation">
            <select id="version-select">
              
              <option value="latest">stable (v4)</option>
              
              <option value="3.2">v3.2</option>
              
            </select>
            
              <div class="o-distance-l">
                <h3 class="c-category-title">Getting Started</h3>
                <ul class="o-list-bare">
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/overview.html" title="Overview" class="u-link-uniform ">Overview</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/installation.html" title="Installation" class="u-link-uniform ">Installation</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/faq.html" title="FAQ" class="u-link-uniform ">FAQ</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                </ul>
              
            
              <div class="o-distance-xl">
                <h3 class="c-category-title">General Usage</h3>
                <ul class="o-list-bare">
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/create_project.html" title="Creating apps" class="u-link-uniform ">Creating apps</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/structure.html" title="App structure" class="u-link-uniform ">App structure</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/running_apps.html" title="Running apps" class="u-link-uniform ">Running apps</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/dashboard.html" title="Using the dashboard" class="u-link-uniform ">Using the dashboard</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/using_the_console.html" title="Using the console" class="u-link-uniform ">Using the console</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/environments.html" title="Environments" class="u-link-uniform ">Environments</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/configuration.html" title="Configuration" class="u-link-uniform ">Configuration</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/pipeline_and_webpack.html" title="Building & Compiling" class="u-link-uniform ">Building & Compiling</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/javascript_usage.html" title="Using EmbarkJS" class="u-link-uniform ">Using EmbarkJS</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                </ul>
              </div>
            
              <div class="o-distance-xl">
                <h3 class="c-category-title">Smart Contract Development</h3>
                <ul class="o-list-bare">
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/contracts_configuration.html" title="Configuration" class="u-link-uniform ">Configuration</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/contracts_deployment.html" title="Accounts & Deployment" class="u-link-uniform ">Accounts & Deployment</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/contracts_imports.html" title="Special Imports" class="u-link-uniform ">Special Imports</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/contracts_testing.html" title="Testing" class="u-link-uniform ">Testing</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/contracts_javascript.html" title="Smart Contracts in JavaScript" class="u-link-uniform ">Smart Contracts in JavaScript</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                </ul>
              </div>
            
              <div class="o-distance-xl">
                <h3 class="c-category-title">Blockchain Client</h3>
                <ul class="o-list-bare">
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/blockchain_configuration.html" title="Configuration" class="u-link-uniform ">Configuration</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/blockchain_accounts_configuration.html" title="Managing Accounts" class="u-link-uniform ">Managing Accounts</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                </ul>
              </div>
            
              <div class="o-distance-xl">
                <h3 class="c-category-title">Storage (IPFS/Swarm)</h3>
                <ul class="o-list-bare">
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/storage_configuration.html" title="Configuration" class="u-link-uniform ">Configuration</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/storage_deployment.html" title="Deploying apps" class="u-link-uniform ">Deploying apps</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/storage_javascript.html" title="Storage APIs in JavaScript" class="u-link-uniform ">Storage APIs in JavaScript</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                </ul>
              </div>
            
              <div class="o-distance-xl">
                <h3 class="c-category-title">Messages (Whisper)</h3>
                <ul class="o-list-bare">
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/messages_configuration.html" title="Configuration" class="u-link-uniform ">Configuration</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/messages_javascript.html" title="Messages in JavaScript" class="u-link-uniform ">Messages in JavaScript</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                </ul>
              </div>
            
              <div class="o-distance-xl">
                <h3 class="c-category-title">Naming Systems (ENS)</h3>
                <ul class="o-list-bare">
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/naming_configuration.html" title="Configuration" class="u-link-uniform ">Configuration</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/naming_javascript.html" title="Naming Systems in JavaScript" class="u-link-uniform ">Naming Systems in JavaScript</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                </ul>
              </div>
            
              <div class="o-distance-xl">
                <h3 class="c-category-title">Plugins</h3>
                <ul class="o-list-bare">
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/installing_plugins.html" title="Installing plugins" class="u-link-uniform ">Installing plugins</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/creating_plugins.html" title="Creating plugins" class="u-link-uniform ">Creating plugins</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/plugin_reference.html" title="Plugin APIs" class="u-link-uniform is-active">Plugin APIs</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                </ul>
              </div>
            
              <div class="o-distance-xl">
                <h3 class="c-category-title">Cockpit Guides</h3>
                <ul class="o-list-bare">
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/cockpit_introduction.html" title="Introduction" class="u-link-uniform ">Introduction</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/cockpit_dashboard.html" title="Using the Dashboard" class="u-link-uniform ">Using the Dashboard</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/cockpit_deployment.html" title="Deployment" class="u-link-uniform ">Deployment</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/cockpit_explorer.html" title="Explorer View" class="u-link-uniform ">Explorer View</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/cockpit_editor.html" title="Code Editor" class="u-link-uniform ">Code Editor</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/cockpit_debugger.html" title="Using the Debugger" class="u-link-uniform ">Using the Debugger</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                </ul>
              </div>
            
              <div class="o-distance-xl">
                <h3 class="c-category-title">Reference</h3>
                <ul class="o-list-bare">
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/embark_commands.html" title="CLI Commands" class="u-link-uniform ">CLI Commands</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                </ul>
              </div>
            
              <div class="o-distance-xl">
                <h3 class="c-category-title">Miscellaneous</h3>
                <ul class="o-list-bare">
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/migrating_from_3.x.html" title="Migrating from Embark 3.x" class="u-link-uniform ">Migrating from Embark 3.x</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/troubleshooting.html" title="Troubleshooting" class="u-link-uniform ">Troubleshooting</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/contributing.html" title="Contributing" class="u-link-uniform ">Contributing</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                </ul>
              </div>
            
          </div></nav>
        </div>
      </div>
      <div class="o-guided-content__content">
        <p class="c-meta">Last updated: May 7th 2019
          (<a href="https://github.com/embark-framework/embark-site/edit/master/source/docs/plugin_reference.md" target="_blank">
            Improve this guide <svg class="c-icon c-icon--xs"><use xlink:href="/../../assets/icons/symbols.svg#icon-pen-write-paper"/></svg>
          </a>)
        </p>
        <div class="o-standard-page">
          <h1>Plugin APIs</h1>
          <p>This reference covers all APIs exposed by the <code>embark</code> object passed to every custom created plugin. Make sure to read the section on <a href="/docs/creating_plugins.html">creating a plugin</a> first.</p>
<h2 id="pluginConfig"><a href="#pluginConfig" class="headerlink" title=".pluginConfig"></a>.pluginConfig</h2><p><code>pluginConfig</code> is an object that contains the configuration for your plugin specified in the project’s <code>embark.json</code>. For example, if a plugin configuration like the following:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;plugins&quot;: &#123;</span><br><span class="line">  &quot;embark-babel&quot;: &#123; </span><br><span class="line">    &quot;files&quot;: [&quot;**/*.js&quot;, &quot;!**/jquery.min.js&quot;],</span><br><span class="line">    &quot;presets&quot;: [&quot;es2015&quot;, &quot;react&quot;]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>embark.pluginConfig</code> will contain </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123; </span><br><span class="line">  &quot;files&quot;: [&quot;**/*.js&quot;, &quot;!**/jquery.min.js&quot;],</span><br><span class="line">  &quot;presets&quot;: [&quot;es2015&quot;, &quot;react&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>and can be used by your plugin as needed.</p>
<h2 id="registerPipeline-matchingFiles-callback-options"><a href="#registerPipeline-matchingFiles-callback-options" class="headerlink" title=".registerPipeline(matchingFiles, callback(options))"></a>.registerPipeline(matchingFiles, callback(options))</h2><p>This call will return the content of the current asset file so the plugin can transform it in some way. Typically this is used to implement pipeline plugins such as Babel, JSX, sass to css, etc.</p>
<p><code>matchingFiles</code> is an array of matching files the plugin should be called with for e.g <code>[&#39;**/*.js&#39;, &#39;!vendor/jquery.js&#39;]</code> matches all JavaScript files except <code>vendor/jquery.js</code>.</p>
<p>Available optinos:</p>
<ul>
<li><code>targetFile</code> - filename to be generated</li>
<li><code>source</code> - content of the file</li>
</ul>
<p>Returns <code>string</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var babel = require(&quot;babel-core&quot;);</span><br><span class="line">require(&quot;babel-preset-react&quot;);</span><br><span class="line"></span><br><span class="line">module.exports = function(embark) &#123;</span><br><span class="line">  embark.registerPipeline([&quot;**/*.js&quot;, &quot;**/*.jsx&quot;], (options) =&gt; &#123;</span><br><span class="line">    return babel.transform(options.source, &#123;</span><br><span class="line">      minified: true,</span><br><span class="line">      presets: [&apos;react&apos;]</span><br><span class="line">    &#125;).code;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="registerContractConfiguration-contractsConfig"><a href="#registerContractConfiguration-contractsConfig" class="headerlink" title=".registerContractConfiguration(contractsConfig)"></a>.registerContractConfiguration(contractsConfig)</h2><p>This call is used to specify a configure of one or more contracts in one or several environments. This is useful for specifying the different configurations a contract might have depending on the enviroment. For instance in the code bellow, the <code>DGDToken</code> contract code will redeployed with the arguments <code>100</code> in any environment, except for the livenet since it’s already deployed there at a particular address.</p>
<p>Typically this call is used in combination with <code>embark.addContractFile</code></p>
<p><code>contractsConfig</code> is an object in the same structure as the one found in the contracts configuration at <code>config/contracts.json</code>. The users own configuration will be merged with the one specified in the plugins.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">module.exports = function(embark) &#123;</span><br><span class="line">  embark.registerContractConfiguration(&#123;</span><br><span class="line">    &quot;default&quot;: &#123;</span><br><span class="line">      &quot;contracts&quot;: &#123;</span><br><span class="line">        &quot;DGDToken&quot;: &#123;</span><br><span class="line">          &quot;args&quot;: [</span><br><span class="line">            100</span><br><span class="line">          ]</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;livenet&quot;: &#123;</span><br><span class="line">      &quot;contracts&quot;: &#123;</span><br><span class="line">        &quot;DGDToken&quot;: &#123;</span><br><span class="line">          &quot;address&quot;: &quot;0xe0b7927c4af23765cb51314a0e0521a9645f0e2a&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="addContractFile-file"><a href="#addContractFile-file" class="headerlink" title=".addContractFile(file)"></a>.addContractFile(file)</h2><p>Typically this call is used in combination with <code>embark.registerContractConfiguration</code>. If you want to make the contract available but not automatically deployed without the user specifying so you can use <code>registerContractConfiguration</code> to set the contract config to <code>deploy: false</code>, this is particularly useful for when the user is meant to extend the contract being given (e.g <code>contract MyToken is StandardToken</code>)</p>
<p><code>file</code> is the contract file to add to embark, the path should relative to the plugin.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">module.exports = function(embark) &#123;</span><br><span class="line">  embark.addContractFile(&quot;./DGDToken.sol&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="addFileToPipeline-file-options"><a href="#addFileToPipeline-file-options" class="headerlink" title=".addFileToPipeline(file, options)"></a>.addFileToPipeline(file, options)</h2><p>This call is used to add a file to the pipeline so it’s included with the dapp on the client side.</p>
<p><code>file</code> is the file to add to the pipeline, the path should relative to the plugin.</p>
<p><code>intendedPath</code> is the intended path outside of the plugin</p>
<p>Available options:</p>
<ul>
<li><code>skipPipeline</code> - If <code>true</code> it will not apply transformations to the file. For<br>example if you have a babel plugin to transform es6 code or a minifier plugin, setting this to<br>true will not apply the plugin on this file.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">module.exports = function(embark) &#123;</span><br><span class="line">  embark.addFileToPipeline(&quot;./jquery.js&quot;, &#123;skipPipeline: true&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="registerBeforeDeploy-callback-options-callback"><a href="#registerBeforeDeploy-callback-options-callback" class="headerlink" title=".registerBeforeDeploy(callback(options), [callback])"></a>.registerBeforeDeploy(callback(options), [callback])</h2><p>This call can be used to add handler to process contract code after it was generated, but immediately before it is going to be deployed.<br>It is useful to replace placeholders with dynamic values.</p>
<p>Available options:</p>
<ul>
<li><code>embarkDeploy</code> - instance of Deploy class. Has following fields: web3, contractsManager, logger, env, chainConfig, gasLimit.</li>
<li><code>pluginConfig</code> - plugin configuration object from embark.json</li>
<li><code>deploymentAccount</code> - address of account which will be used to deploy this contract</li>
<li><code>contract</code> - contract object.</li>
<li><code>callback</code> - callback function that handler must call with result object as the only argument. Result object must have field contractCode with (un)modified code from contract.code</li>
</ul>
<p>You can use the callback argument instead of the callback option if you prefer. It needs the same result object.</p>
<p>expected return: ignored</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">module.exports = function(embark) &#123;</span><br><span class="line">  embark.registerBeforeDeploy(function(options) &#123;</span><br><span class="line">    var code = options.contract.code.replace(/deaddeaddeaddeaddeaddeaddeaddeaddeaddead/ig, &apos;c0dec0dec0dec0dec0dec0dec0dec0dec0dec0de&apos;);</span><br><span class="line">    options.callback(&#123; contractCode: code &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="registerClientWeb3Provider-callback-options"><a href="#registerClientWeb3Provider-callback-options" class="headerlink" title=".registerClientWeb3Provider(callback(options))"></a>.registerClientWeb3Provider(callback(options))</h2><p>This call can be used to override the default web3 object generation in the dapp. it’s useful if you want to add a plugin to interact with services like <a href="http://infura.io" target="_blank" rel="noopener">http://infura.io</a> or if you want to use your own web3.js library extension.</p>
<p>options available:</p>
<ul>
<li>rpcHost - configured rpc Host to connect to</li>
<li>rpcPort - configured rpc Port to connect to</li>
<li>blockchainConfig - object containing the full blockchain configuration for the current environment</li>
</ul>
<p>expected return: <code>string</code></p>
<p>example:</p>
<pre><code class="javascript">module.exports = function(embark) {
  embark.registerClientWeb3Provider(function(options) {
    return "web3 = new Web3(new Web3.providers.HttpProvider('http://" + options.rpcHost + ":" + options.rpcPort + "'));";
  });
}
</code></pre>


<h2 id="registerContractsGeneration-callback-options"><a href="#registerContractsGeneration-callback-options" class="headerlink" title=".registerContractsGeneration(callback(options))"></a>.registerContractsGeneration(callback(options))</h2><p>By default Embark will use EmbarkJS to declare contracts in the dapp. You can override and use your own client side library.</p>
<p>Available options:</p>
<ul>
<li>contracts - Hash of objects containing all the deployed contracts. (key: contractName, value: contract object)</li>
<li>abiDefinition</li>
<li>code</li>
<li>deployedAddress</li>
<li>gasEstimates</li>
<li>gas</li>
<li>gasPrice</li>
<li>runtimeByteCode</li>
</ul>
<p>Returns <code>string</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">embark.registerContractsGeneration(function (options) &#123;</span><br><span class="line">  const contractGenerations = [];</span><br><span class="line">  Object.keys(options.contracts).map(className =&gt; &#123;</span><br><span class="line">    const contract = options.contracts[className];</span><br><span class="line">    const abi = JSON.stringify(contract.abiDefinition);</span><br><span class="line"></span><br><span class="line">    contractGenerations.push(`$&#123;className&#125; = web3.eth.contract(&apos;$&#123;abi&#125;&apos;).at(&apos;$&#123;contract.deployedAddress&#125;&apos;)`);</span><br><span class="line">  &#125;);</span><br><span class="line">  return contractGenerations.join(&apos;\n&apos;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="registerConsoleCommand-options"><a href="#registerConsoleCommand-options" class="headerlink" title=".registerConsoleCommand(options)"></a>.registerConsoleCommand(options)</h2><p>This call is used to extend the console with custom commands.</p>
<p>The function takes an <code>object</code> with the following options:</p>
<ul>
<li><code>description</code>: Description of the command (used by the help command)</li>
<li><code>matches</code>: Either an <code>array</code> of strings corresponding to exact matches for the command or a <code>function</code> where the only parameter in the command<ul>
<li>The <code>function</code> must return a <code>boolean</code>. True if it matches, <code>false</code> if not.</li>
</ul>
</li>
<li><code>usage</code>: Usage of the command that will be outputed by the help command<ul>
<li>Adding <code>usage</code> is optional in the case where <code>matches</code> is an <code>array</code></li>
</ul>
</li>
<li><code>process</code>: <code>function</code> that will be executed to process the command. The <code>function</code> receives two parameters:<ul>
<li><code>command</code>: The <code>string</code> command that the user entered</li>
<li><code>callback</code>: Callback <code>function</code> to be called at the end of the process<ul>
<li>This callback takes two parameters. The first an error, the second the output of the command. The output will be displayed in the console</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">module.exports = function(embark) &#123;</span><br><span class="line">  embark.registerConsoleCommand(&#123;</span><br><span class="line">    description: &quot;Salutes the world&quot;,</span><br><span class="line">    matches: [&quot;hello&quot;, &quot;hellowWorld&quot;],</span><br><span class="line">    // OR a function for more complex cases</span><br><span class="line">    matches: (cmd) =&gt; &#123;</span><br><span class="line">      const [commandName, name] = cmd.split(&apos; &apos;); // You can use `split` for commands that receive parameters</span><br><span class="line">      return commandName === &apos;hello&apos; || commandName === &apos;hellowWorld&apos;; </span><br><span class="line">    &#125;,</span><br><span class="line">    usage: &quot;hello &amp;lt;name&amp;gt; or helloWorld &amp;lt;name&amp;gt;&quot;,</span><br><span class="line">    process: (cmd, callback) =&gt; &#123;</span><br><span class="line">      const [commandName, name] = cmd.split(&apos; &apos;);</span><br><span class="line">      name = name || &quot;noName&quot;; // Default to &quot;noName&quot; when nothing is specified</span><br><span class="line">      callback(null, `Hello $&#123;name&#125;`); // Call back with the message. This will be outputed in the console</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="registerCompiler-extension-callback-contractFiles-doneCallback"><a href="#registerCompiler-extension-callback-contractFiles-doneCallback" class="headerlink" title=".registerCompiler(extension, callback(contractFiles, doneCallback))"></a>.registerCompiler(extension, callback(contractFiles, doneCallback))</h2><p>Registers a new compiler for a specific contract extension.</p>
<p>Arguments:</p>
<ul>
<li><strong>extension</strong>: The file extension (e.g: <code>.sol</code>)</li>
<li><strong>callback</strong>: Function called by Embark with the contract files that the plugin should process<ul>
<li><strong>contractFiles</strong>: Array of files that need to be compiled</li>
<li><strong>doneCallback(error, result)</strong>: The final callback to call once every file is compiled or when there is an error<ul>
<li><strong>error</strong>: Error string or object when something goes wrong</li>
<li><strong>result</strong>: An object containing the compiled contracts result (key: contractName, value: contract object) or, <code>false</code> if your plugin is not compatible</li>
<li><strong>code</strong> - [required] contract bytecode (string)      </li>
<li><strong>abiDefinition</strong> - [required] contract abi (array of objects)<ul>
<li>e.g <code>[{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;storedData&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;payable&quot;:false,&quot;type&quot;:&quot;function&quot;}, etc...</code></li>
</ul>
</li>
<li><strong>runtimeBytecode</strong> - [optional] contract runtimeBytecode (string)</li>
<li><strong>gasEstimates</strong> - [optional] gas estimates for constructor and methods (hash)<ul>
<li>e.g <code>{&quot;creation&quot;:[20131,38200],&quot;external&quot;:{&quot;get()&quot;:269,&quot;set(uint256)&quot;:20163,&quot;storedData()&quot;:224},&quot;internal&quot;:{}}</code></li>
</ul>
</li>
<li><strong>functionHashes</strong> - [optional] object with methods and their corresponding hash identifier (hash)<ul>
<li>e.g <code>{&quot;get()&quot;:&quot;6d4ce63c&quot;,&quot;set(uint256)&quot;:&quot;60fe47b1&quot;,&quot;storedData()&quot;:&quot;2a1afcd9&quot;}</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Below a possible implementation of a solcjs plugin.<br>Note that the plugin checks the version and returns <code>false</code> as the result if it is not compatible:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const solc = require(&apos;solc&apos;);</span><br><span class="line">const semver = require(&apos;semver&apos;);</span><br><span class="line"></span><br><span class="line">module.exports = function(embark) &#123;</span><br><span class="line">  embark.registerCompiler(&quot;.sol&quot;, function(contractFiles, cb) &#123;</span><br><span class="line">    const wantedVersion = embark.config.embarkConfig.versions.solc;</span><br><span class="line">    if (semver.gt(wantedVersion, &apos;0.5.0&apos;)) &#123;</span><br><span class="line">      // We do not support greater than solidity version 0.5.0</span><br><span class="line">      // This let&apos;s Embark know that we are not compatible, that way Embark will fallback to another compiler</span><br><span class="line">      return cb(null, false);</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    // prepare input for solc</span><br><span class="line">    var input = &#123;&#125;;</span><br><span class="line">    for (var i = 0; i &lt; contractFiles.length; i++) &#123;</span><br><span class="line">      var filename = contractFiles[i].filename.replace(&apos;app/contracts/&apos;,&apos;&apos;);</span><br><span class="line">      input[filename] = contractFiles[i].content.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // compile files</span><br><span class="line">    var output = solc.compile(&#123;sources: input&#125;, 1);</span><br><span class="line"></span><br><span class="line">    // generate the compileObject expected by embark</span><br><span class="line">    var json = output.contracts;</span><br><span class="line">    var compiled_object = &#123;&#125;;</span><br><span class="line">    for (var className in json) &#123;</span><br><span class="line">      var contract = json[className];</span><br><span class="line"></span><br><span class="line">      compiled_object[className] = &#123;&#125;;</span><br><span class="line">      compiled_object[className].code            = contract.bytecode;</span><br><span class="line">      compiled_object[className].runtimeBytecode = contract.runtimeBytecode;</span><br><span class="line">      compiled_object[className].gasEstimates    = contract.gasEstimates;</span><br><span class="line">      compiled_object[className].functionHashes  = contract.functionHashes;</span><br><span class="line">      compiled_object[className].abiDefinition   = JSON.parse(contract.interface);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cb(null, compiled_object);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="logger"><a href="#logger" class="headerlink" title=".logger"></a>.logger</h2><p>To print messages to the embark log is it better to use <code>embark.logger</code> instead of <code>console</code>.</p>
<p>e.g <code>embark.logger.info(&quot;hello&quot;)</code></p>
<h2 id="events-on-eventName-callback-args"><a href="#events-on-eventName-callback-args" class="headerlink" title=".events.on(eventName, callback(*args))"></a>.events.on(eventName, callback(*args))</h2><p>This call is used to listen and react to events that happen in Embark such as contract deployment</p>
<ul>
<li>eventName - name of event to listen to<ul>
<li>available events:<ul>
<li><code>contractsDeployed</code> - triggered when contracts have been deployed</li>
<li><code>file-add</code>, <code>file-change</code>, <code>file-remove</code>, <code>file-event</code> - triggered on a file change, args is (filetype, path)</li>
<li><code>outputDone</code> - triggered when dapp is (re)generated</li>
<li><code>firstDeploymentDone</code> - triggered when the dapp is deployed and generated for the first time</li>
<li><code>check:backOnline:serviceName</code> - triggered when the service with <code>serviceName</code> comes back online</li>
<li><code>check:wentOffline:serviceName</code> - triggered when the service with <code>serviceName</code> goes offline</li>
<li><code>log</code> - triggered on a log, args is (logLevel, logMsg)</li>
<li><code>contractsState</code> - list of contracts, their deployment status, address, etc..</li>
<li><code>servicesState</code> - list of services and their state</li>
<li><code>exit</code>: - triggered when embark is terminating</li>
<li><code>deploy:contract:deployed</code>: - triggered when a contract is deployed, the callback will contain the contract object</li>
<li><code>deploy:contract:undeployed</code>: - triggered when a contract was not deployed (typically because there is no need), the callback will contain the contract object</li>
<li><code>deploy:contract:error</code>: - triggered when a contract couldn’t be deployed due to an error, the callback will contain the contract object</li>
<li><code>deploy:contract:receipt</code>: - triggered on a contract deployment (succefull or not), the callback will contain the resulting receipt</li>
<li><code>contractsState</code>: - triggered often, whenever there are changes to contracts, the callback will contain an object containing the contract names, address and state, etc..</li>
<li><code>deploy:beforeAll</code>: - triggered before contract deployment starts</li>
<li><code>contracts:deploy:afterAll</code>: - triggered after contract deployment starts</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">module.exports = function(embark) &#123;</span><br><span class="line">  embark.events.on(&quot;contractsDeployed&quot;, function() &#123;</span><br><span class="line">    embark.logger.info(&quot;plugin says: your contracts have been deployed&quot;);</span><br><span class="line">  &#125;);</span><br><span class="line">  embark.events.on(&quot;file-change&quot;, function(filetype, path) &#123;</span><br><span class="line">    if (type === &apos;contract&apos;) &#123;</span><br><span class="line">      embark.logger.info(&quot;plugin says: you just changed the contract at &quot; + path);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="events-request-requestName-callback-args"><a href="#events-request-requestName-callback-args" class="headerlink" title=".events.request(requestName, callback(*args))"></a>.events.request(requestName, callback(*args))</h3><p>This call is used to request a certain resource from Embark</p>
<ul>
<li>requestName - name of request to listen to<ul>
<li>available requests:<ul>
<li>(<code>deploy:contract</code>, contractObj) - deploys a particular contract through embark</li>
<li>(<code>runcode:eval</code>, code) - runs js code in the Embark engine.</li>
<li>(<code>runcode:register</code>, cmdName, cmdObj) - ‘registers’ a variable cmdName to correspond to a js object cmdObj (note: this should be done thourgh an emit);</li>
<li>(<code>contracts:list</code>) - returns a list a callback containing (err, contractList) containing a collection of available contracts</li>
<li>(<code>compiler:contracts</code>, contractFiles) - requests embark to compile a list of files, will return a compiled object in the callback</li>
<li>(<code>services:register</code>, serviceName, checkCallback) - requests embark to register a service, it will execute checkCallback every 5 seconds, the callback should return an object containing the service name and status (See embark.registerServiceCheck)</li>
<li>(<code>console:command</code>, cmd) - execute a command in the console</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">module.exports = function(embark) &#123;</span><br><span class="line">  embark.events.request(&quot;code&quot;, function(code) &#123;</span><br><span class="line">    // Do something with the code</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="registerServiceCheck-serviceName-callback-name-status-time"><a href="#registerServiceCheck-serviceName-callback-name-status-time" class="headerlink" title=".registerServiceCheck(serviceName, callback({name, status}), time)"></a>.registerServiceCheck(serviceName, callback({name, status}), time)</h2><p>This call is used to register a service in embark so it’s periodically checked.<br>It will be displayed in the Embark Dashboard, and will also trigger events such as <code>check:backOnline:yourServiceName</code> and <code>check:backOffline:yourServiceName</code></p>
<ul>
<li>serviceName - name of service (string)</li>
<li>callback:<ul>
<li><code>name</code> - name/text to display (string)</li>
<li><code>status</code> - status of the service (string, <code>on</code> or <code>off</code> or <code>warn</code>)</li>
</ul>
</li>
<li>time (optional) - ms interval to call the callback (default: 5000 ms)</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">module.exports = function(embark) &#123;</span><br><span class="line">  embark.registerServiceCheck(&quot;MyServer&quot;, function(cb) &#123;</span><br><span class="line">    if (myServiceOnline()) &#123;</span><br><span class="line">      return cb(&#123;name: &quot;MyServer Online&quot;, status: &quot;on&quot;&#125;);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      return cb(&#123;name: &quot;MyServer Offline&quot;, status: &quot;off&quot;&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="registerUploadCommand-cmdName-callback"><a href="#registerUploadCommand-cmdName-callback" class="headerlink" title=".registerUploadCommand(cmdName, callback)"></a>.registerUploadCommand(cmdName, callback)</h2><p>This call is used to add a new cmd to <code>embark upload</code> to upload the dapp to a new storage service. In the example, <code>run</code> doesn’t exist. You need to import a library that runs shell commands like <a href="https://www.npmjs.com/package/shelljs" target="_blank" rel="noopener">shelljs</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">module.exports = function(embark) &#123;</span><br><span class="line">  embark.registerUploadCommand(&quot;ipfs&quot;, function() &#123;</span><br><span class="line">    run(&quot;ipfs add -r dist/&quot;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="addCodeToEmbarkJS-code"><a href="#addCodeToEmbarkJS-code" class="headerlink" title=".addCodeToEmbarkJS(code)"></a>.addCodeToEmbarkJS(code)</h2><p>This call is used to add code to the embark.js library. It’s typically used to extend it with new functionality, new storage providers, new communication providers, etc..</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">module.exports = function(embark) &#123;</span><br><span class="line">  embark.addCodeToEmbarkJS(&quot;alert(&apos;hello world!&apos;)&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="addProviderInit-providerType-code-initCondition-config"><a href="#addProviderInit-providerType-code-initCondition-config" class="headerlink" title=".addProviderInit(providerType, code, initCondition(config))"></a>.addProviderInit(providerType, code, initCondition(config))</h2><p>This call is used to add code to be executed in the initialization under the condition that <code>initCondition</code> returns true. For example this can be used to set the storage provider of EmbarkJS to ipfs if ipfs is enabled as a provider in the config</p>
<ul>
<li>providerType - type of provider (string, “storage” or “communication”)</li>
<li>code - code to add (string)</li>
<li>callback:<ul>
<li>“config” - config of the <code>providerType</code></li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">module.exports = function(embark) &#123;</span><br><span class="line">  let code = &quot;\nEmbarkJS.Storage.setProvider(&apos;ipfs&apos;)&quot;;</span><br><span class="line">  embark.addProviderInit(&apos;storage&apos;, code, (storageConfig) =&gt; &#123;</span><br><span class="line">    return (storageConfig.provider === &apos;ipfs&apos; &amp;&amp; storageConfig.enabled === true);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="registerImportFile-importName-importLocation"><a href="#registerImportFile-importName-importLocation" class="headerlink" title=".registerImportFile(importName, importLocation)"></a>.registerImportFile(importName, importLocation)</h2><p>This call is used so the plugin can make a certain file available as a library to a user</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var path = require(&apos;path&apos;)</span><br><span class="line"></span><br><span class="line">module.exports = function(embark) &#123;</span><br><span class="line">  embark.registerImportFile(&quot;my-lib&quot;, path.join(__dirname, &quot;my-lib.js&quot;));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

        </div>
        <div class="o-container-medium o-distance-l">
          <div class="o-flex o-flex-space-between">
  
  <div class="o-flex__item">
    <a href="/docs/creating_plugins.html" class="c-button c-button--quite" title="Previous">&larr; Previous</a>
  </div>
  
  
  <div class="o-flex__item">
    <a href="/docs/cockpit_introduction.html" class="c-button c-button--quite" title="Next Article">Next &rarr;</a>
  </div>
  
</div>


        </div>
      </div>
      <div class="o-guided-content__addition">
        <h3 class="c-category-title">Contents</h3>
        <ol class="o-list-bare"><li class="o-list-bare__item o-list-bare-level-2 o-ellipsis"><a href="#pluginConfig" class="u-link-uniform">.pluginConfig</a></li><li class="o-list-bare__item o-list-bare-level-2 o-ellipsis"><a href="#registerPipeline-matchingFiles-callback-options" class="u-link-uniform">.registerPipeline(matchingFiles, callback(options))</a></li><li class="o-list-bare__item o-list-bare-level-2 o-ellipsis"><a href="#registerContractConfiguration-contractsConfig" class="u-link-uniform">.registerContractConfiguration(contractsConfig)</a></li><li class="o-list-bare__item o-list-bare-level-2 o-ellipsis"><a href="#addContractFile-file" class="u-link-uniform">.addContractFile(file)</a></li><li class="o-list-bare__item o-list-bare-level-2 o-ellipsis"><a href="#addFileToPipeline-file-options" class="u-link-uniform">.addFileToPipeline(file, options)</a></li><li class="o-list-bare__item o-list-bare-level-2 o-ellipsis"><a href="#registerBeforeDeploy-callback-options-callback" class="u-link-uniform">.registerBeforeDeploy(callback(options), [callback])</a></li><li class="o-list-bare__item o-list-bare-level-2 o-ellipsis"><a href="#registerClientWeb3Provider-callback-options" class="u-link-uniform">.registerClientWeb3Provider(callback(options))</a></li><li class="o-list-bare__item o-list-bare-level-2 o-ellipsis"><a href="#registerContractsGeneration-callback-options" class="u-link-uniform">.registerContractsGeneration(callback(options))</a></li><li class="o-list-bare__item o-list-bare-level-2 o-ellipsis"><a href="#registerConsoleCommand-options" class="u-link-uniform">.registerConsoleCommand(options)</a></li><li class="o-list-bare__item o-list-bare-level-2 o-ellipsis"><a href="#registerCompiler-extension-callback-contractFiles-doneCallback" class="u-link-uniform">.registerCompiler(extension, callback(contractFiles, doneCallback))</a></li><li class="o-list-bare__item o-list-bare-level-2 o-ellipsis"><a href="#logger" class="u-link-uniform">.logger</a></li><li class="o-list-bare__item o-list-bare-level-2 o-ellipsis"><a href="#events-on-eventName-callback-args" class="u-link-uniform">.events.on(eventName, callback(*args))</a><ol class="o-list-bare__child"><li class="o-list-bare__item o-list-bare-level-3 o-ellipsis"><a href="#events-request-requestName-callback-args" class="u-link-uniform">.events.request(requestName, callback(*args))</a></li></ol></li><li class="o-list-bare__item o-list-bare-level-2 o-ellipsis"><a href="#registerServiceCheck-serviceName-callback-name-status-time" class="u-link-uniform">.registerServiceCheck(serviceName, callback({name, status}), time)</a></li><li class="o-list-bare__item o-list-bare-level-2 o-ellipsis"><a href="#registerUploadCommand-cmdName-callback" class="u-link-uniform">.registerUploadCommand(cmdName, callback)</a></li><li class="o-list-bare__item o-list-bare-level-2 o-ellipsis"><a href="#addCodeToEmbarkJS-code" class="u-link-uniform">.addCodeToEmbarkJS(code)</a></li><li class="o-list-bare__item o-list-bare-level-2 o-ellipsis"><a href="#addProviderInit-providerType-code-initCondition-config" class="u-link-uniform">.addProviderInit(providerType, code, initCondition(config))</a></li><li class="o-list-bare__item o-list-bare-level-2 o-ellipsis"><a href="#registerImportFile-importName-importLocation" class="u-link-uniform">.registerImportFile(importName, importLocation)</a></li></ol>
      </div>
    </div>
  </section>
</main>

<script src="/js/linkjuice/dist/linkjuice.min.js"></script>

    <footer role="contentinfo" class="c-footer o-distance-xxl">
  <div class="o-container">
    <div class="c-footer__top">
      <p class="c-category-title c-footer__top__title u-text-light">Embark is part of the Status Network</p>
      <ul class="o-list-inline">
        <li class="o-list-inline__item">
          <a href="https://keycard.status.im" title="Keycard by Status"><img src="/../assets/images/keycard-logo-negative.svg" alt="Keycard Logo"></a>
        </li>
        <li class="o-list-inline__item">
          <a href="https://nimbus.status.im" title="Nimbus by Status"><img src="/../assets/images/Nimbus.svg" alt="Nimbus Logo"></a>
        </li>
        <li class="o-list-inline__item">
          <a href="https://status.im" title="Status"><img src="/../assets/images/status-logo.svg" alt="Status Logo"></a>
        </li>
      </ul>
    </div>
    <div class="c-footer__body">
      <div class="o-grid">
        <div class="o-grid__column--1-1 o-grid__column--medium-1-2 o-grid__column--large-1-5">
          <a href="/" class="c-logo c-logo--negative" title="Embark">Embark</a>
          <!-- <form action="" class="o-distance-m">
            <select name="select-language" id="sel-language">
              <option value="Englisch">Englisch</option>
              <option value="Deutsch">Deutsch</option>
            </select>
          </form> -->
        </div>
        <div class="o-grid__column--1-1 o-grid__column--medium-1-2 o-grid__column--large-1-5">
          <p class="c-category-title u-text-light">Ressources</p>
          <ul class="o-list-bare">
            <li class="o-list-bare__item">
              <a href="/docs/quick_start.html" class="u-link-ghost" title="Quickstart">Quickstart</a>
            </li>
            <li class="o-list-bare__item">
              <a href="/docs" class="u-link-ghost" title="Official Documentation">Documentation</a>
            </li>
            <li class="o-list-bare__item">
              <a href="/news" class="u-link-ghost" title="Blog">Blog</a>
            </li>
            <li class="o-list-bare__item">
              <a href="/docs/faq.html" class="u-link-ghost" title="FAQ">FAQ</a>
            </li>
            <li class="o-list-bare__item">
              <a href="/docs/troubleshooting.html" class="u-link-ghost" title="Troubleshooting">Troubleshooting</a>
            </li>
          </ul>
        </div>
        <div class="o-grid__column--1-1 o-grid__column--medium-1-2 o-grid__column--large-1-5">
          <p class="c-category-title u-text-light">Help</p>
          <ul class="o-list-bare">
            <li class="o-list-bare__item">
              <a href="https://stackoverflow.com/questions/tagged/embark" class="u-link-ghost" title="Embark Questions">Stack Overflow</a>
            </li>
            <li class="o-list-bare__item">
              <a href="https://gitter.im/embark-framework/Lobby" class="u-link-ghost" title="Gitter">Gitter</a>
            </li>
            <li class="o-list-bare__item">
              <a href="https://github.com/embark-framework/embark/issues" class="u-link-ghost" title="Issues on GitHub">Report issues</a>
            </li>
            <li class="o-list-bare__item">
              <a href="https://github.com/embark-framework/embark/blob/master/CODE_OF_CONDUCT.md" class="u-link-ghost" title="Code of Conduct">Code of Conduct</a>
            </li>
          </ul>
        </div>
        <div class="o-grid__column--1-1 o-grid__column--medium-1-2 o-grid__column--large-1-5">
          <p class="c-category-title u-text-light">Community</p>
          <ul class="o-list-bare">
            <li class="o-list-bare__item">
              <a href="https://github.com/embark-framework" class="u-link-ghost" title="Github">Github</a>
            </li>
            <li class="o-list-bare__item">
              <a href="https://twitter.com/EmbarkProject" class="u-link-ghost" title="Twitter">Twitter</a>
            </li>
            <li class="o-list-bare__item">
              <a href="/docs/contributing.html" class="u-link-ghost" title="Contribute">Contribute</a>
            </li>
            <li class="o-list-bare__item">
              <a href="/community/#team" class="u-link-ghost" title="Team">Team</a>
            </li>
          </ul>
        </div>
        <!-- <div class="o-grid__column--1-1 o-grid__column--medium-1-2 o-grid__column--large-1-5">
          <p class="c-category-title u-text-light">More</p>
          <ul class="o-list-bare">
            <li class="o-list-bare__item">
              <a href="" class="u-link-ghost" title="Jobs">Jobs</a>
            </li>
            <li class="o-list-bare__item">
              <a href="" class="u-link-ghost" title="Privacy Policy">Privacy Policy</a>
            </li>
          </ul>
        </div> -->
      </div>
    </div>
    <div class="c-footer__bottom">
      <p class="u-text-light">
        <a href="https://status.im/privacy-policy.html" title="Privacy Policy" target="_blank" class="u-text-light">Privacy Policy</a>
        / © 2019 Embark
      </p>
    </div>
  </div>
</footer>




    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.4/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <script>
      const EMBARK_DOC_VERSIONS = {
        'latest': 'https://embark.status.im/docs','3.2': 'https://5ca4e0fdb29712000adde37f--embark-site-versions.netlify.com/docs/'
      };
    </script>
    <script src="/js/index.js"></script>

    
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
    <script type="text/javascript">
      docsearch({
        apiKey: '439d8dc2add18007a2f31be4a9c0ed70',
        indexName: 'embark',
        inputSelector: '#search-input'
      });
    </script>
    
  </body>
</html>

