<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head prefix="og: http://ogp.me/ns#"><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <title>Testing Smart Contracts | Embark</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Canonical links -->
  <link rel="canonical" href="https://embark.status.im/docs/contracts_testing.html">
  <!-- Alternative links -->
  

  <!-- Icon -->
  <meta name="msapplication-TileColor" content="#080E1A">
  <link rel="icon" type="image/png" href="/assets/images/favicon-16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/assets/images/favicon-32.png" sizes="32x32">

  <link rel="apple-touch-icon" sizes="76x76" href="/assets/images/apple-touch-icon-60x60-precomposed.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/images/apple-touch-icon-76x76-precomposed.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/images/apple-touch-icon-120x120-precomposed.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/images/apple-touch-icon-152x152-precomposed.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/apple-touch-icon-precomposed.png">
  <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon-precomposed.png">
  <!-- CSS -->
  <link rel="stylesheet" href="/css/embark.css">
  <!-- endbuild -->

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css">

  <!-- RSS -->
  <link rel="alternate" href="/atom.xml" title="Embark">
  <meta property="og:image" content="/img/share.png?v=0.0.5">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.4/styles/dracula.min.css">

  <script async defer src="https://buttons.github.io/buttons.js"></script>


<script>
  !function(root, factory) {
    "function" == typeof define && define.amd ? // AMD. Register as an anonymous module unless amdModuleId is set
    define([], function() {
        return root.svg4everybody = factory();
    }) : "object" == typeof module && module.exports ? // Node. Does not work with strict CommonJS, but
    // only CommonJS-like environments that support module.exports,
    // like Node.
    module.exports = factory() : root.svg4everybody = factory();
}(this, function() {
    /*! svg4everybody v2.1.9 | github.com/jonathantneal/svg4everybody */
    function embed(parent, svg, target) {
        // if the target exists
        if (target) {
            // create a document fragment to hold the contents of the target
            var fragment = document.createDocumentFragment(), viewBox = !svg.hasAttribute("viewBox") && target.getAttribute("viewBox");
            // conditionally set the viewBox on the svg
            viewBox && svg.setAttribute("viewBox", viewBox);
            // copy the contents of the clone into the fragment
            for (// clone the target
            var clone = target.cloneNode(!0); clone.childNodes.length; ) {
                fragment.appendChild(clone.firstChild);
            }
            // append the fragment into the svg
            parent.appendChild(fragment);
        }
    }
    function loadreadystatechange(xhr) {
        // listen to changes in the request
        xhr.onreadystatechange = function() {
            // if the request is ready
            if (4 === xhr.readyState) {
                // get the cached html document
                var cachedDocument = xhr._cachedDocument;
                // ensure the cached html document based on the xhr response
                cachedDocument || (cachedDocument = xhr._cachedDocument = document.implementation.createHTMLDocument(""),
                cachedDocument.body.innerHTML = xhr.responseText, xhr._cachedTarget = {}), // clear the xhr embeds list and embed each item
                xhr._embeds.splice(0).map(function(item) {
                    // get the cached target
                    var target = xhr._cachedTarget[item.id];
                    // ensure the cached target
                    target || (target = xhr._cachedTarget[item.id] = cachedDocument.getElementById(item.id)),
                    // embed the target into the svg
                    embed(item.parent, item.svg, target);
                });
            }
        }, // test the ready state change immediately
        xhr.onreadystatechange();
    }
    function svg4everybody(rawopts) {
        function oninterval() {
            // while the index exists in the live <use> collection
            for (// get the cached <use> index
            var index = 0; index < uses.length; ) {
                // get the current <use>
                var use = uses[index], parent = use.parentNode, svg = getSVGAncestor(parent), src = use.getAttribute("xlink:href") || use.getAttribute("href");
                if (!src && opts.attributeName && (src = use.getAttribute(opts.attributeName)),
                svg && src) {
                    if (polyfill) {
                        if (!opts.validate || opts.validate(src, svg, use)) {
                            // remove the <use> element
                            parent.removeChild(use);
                            // parse the src and get the url and id
                            var srcSplit = src.split("#"), url = srcSplit.shift(), id = srcSplit.join("#");
                            // if the link is external
                            if (url.length) {
                                // get the cached xhr request
                                var xhr = requests[url];
                                // ensure the xhr request exists
                                xhr || (xhr = requests[url] = new XMLHttpRequest(), xhr.open("GET", url), xhr.send(),
                                xhr._embeds = []), // add the svg and id as an item to the xhr embeds list
                                xhr._embeds.push({
                                    parent: parent,
                                    svg: svg,
                                    id: id
                                }), // prepare the xhr ready state change event
                                loadreadystatechange(xhr);
                            } else {
                                // embed the local id into the svg
                                embed(parent, svg, document.getElementById(id));
                            }
                        } else {
                            // increase the index when the previous value was not "valid"
                            ++index, ++numberOfSvgUseElementsToBypass;
                        }
                    }
                } else {
                    // increase the index when the previous value was not "valid"
                    ++index;
                }
            }
            // continue the interval
            (!uses.length || uses.length - numberOfSvgUseElementsToBypass > 0) && requestAnimationFrame(oninterval, 67);
        }
        var polyfill, opts = Object(rawopts), newerIEUA = /\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/, webkitUA = /\bAppleWebKit\/(\d+)\b/, olderEdgeUA = /\bEdge\/12\.(\d+)\b/, edgeUA = /\bEdge\/.(\d+)\b/, inIframe = window.top !== window.self;
        polyfill = "polyfill" in opts ? opts.polyfill : newerIEUA.test(navigator.userAgent) || (navigator.userAgent.match(olderEdgeUA) || [])[1] < 10547 || (navigator.userAgent.match(webkitUA) || [])[1] < 537 || edgeUA.test(navigator.userAgent) && inIframe;
        // create xhr requests object
        var requests = {}, requestAnimationFrame = window.requestAnimationFrame || setTimeout, uses = document.getElementsByTagName("use"), numberOfSvgUseElementsToBypass = 0;
        // conditionally start the interval if the polyfill is active
        polyfill && oninterval();
    }
    function getSVGAncestor(node) {
        for (var svg = node; "svg" !== svg.nodeName.toLowerCase() && (svg = svg.parentNode); ) {}
        return svg;
    }
    return svg4everybody;
});

svg4everybody();
</script>
</head>

  <body>
    <header role="banner" class="c-header c-header--compact">
  <span class="c-header__background"></span>
  <div class="o-container c-header__content">
    <div class="c-header__top">
      <a href="/" title="Embark" class="c-logo c-logo--negative">Embark</a>
      <nav role="navigation" class="c-navigation">
        <div class="c-navigation__header">
          <a href="/" title="Embark" class="c-logo">Embark</a>
          <button class="c-navigation__close u-text-light" title="Close menu">
            <svg class="c-icon c-icon--xs"><use xlink:href="/../assets/icons/symbols.svg#icon-close"></use></svg>
          </button>
        </div>
        <div class="c-navigation__body">
          <ul class="c-navigation__list">
            <li class="c-navigation__item">
              <a href="/docs/quick_start.html" class="c-navigation__anchor " title="Quick Start">Quick Start</a>
            </li>
            <li class="c-navigation__item">
              <a href="/docs" class="c-navigation__anchor is-active" title="Learn">Learn</a>
            </li>
            <li class="c-navigation__item">
              <a href="/plugins" class="c-navigation__anchor " title="Plugins">Plugins</a>
            </li>
            <li class="c-navigation__item">
              <a href="/community" class="c-navigation__anchor " title="Community">Community</a>
            </li>
            <li class="c-navigation__item">
              <a href="/news" class="c-navigation__anchor " title="Blog">Blog</a>
            </li>
          </ul>
        </div>
      </nav>
      <div class="o-flex o-flex-center">
        <form action="" class="o-flex__item u-hidden-until-large">
          <input type="search" placeholder="Search" id="search-input">
        </form>
        <div class="o-flex__item">
          <ul class="o-flex o-flex-center">
            <li class="o-flex__item">
              <a href="https://github.com/embark-framework/embark" title="Github" target="_blank" class="u-link-ghost">
                <svg class="c-icon"><use xlink:href="/../assets/icons/symbols.svg#icon-github"></use></svg>
              </a>
            </li>
            <li class="o-flex__item">
              <a href="https://twitter.com/EmbarkProject" title="Twitter" target="_blank">
                <svg class="c-icon"><use xlink:href="/../assets/icons/symbols.svg#icon-twitter"></use></svg>
              </a>
            </li>
            <li class="o-flex__item u-hidden-large-up">
              <button type="button"class="c-navigation__trigger u-link-ghost" title="Open menu">
                <svg class="c-icon"><use xlink:href="/../assets/icons/symbols.svg#icon-navigation-menu"></use></svg>
              </button>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="c-quick-search o-distance-m u-hidden-large-up">
      <input type="search" id="inp-search" placeholder="Search">
    </div>
    <div class="c-header__body">
      <h1 class="c-title u-text-ghost">Documentation</h1>

      

      
      
    </div>
  </div>
</header>


<main role="main">
  <section class="o-guided-content o-distance">
    <div class="o-guided-content__wrapper">
      <button title="Open docs menu" id="guides-trigger" class="c-button c-button--minion u-hidden-large-up">
        <svg class="c-icon c-icon--xs"><use xlink:href="/../../assets/icons/symbols.svg#icon-navigation-menu"></use></svg>
        <span>Guides</span>
      </button>
      <div class="c-guide o-guided-content__guide"  id="guide-navigation">
        <div class="c-guide__header u-hidden-large-up">
          <a href="" title="Guides">
            Guides
          </a>
          <button type="button" title="Close menu" id="guides-close">
            <svg class="c-icon c-icon--xs"><use xlink:href="/../../assets/icons/symbols.svg#icon-close"></use></svg>
          </button>
        </div>
        <div class="c-guide__body">
          <nav role="navigation">
            <select id="version-select">
              
              <option value="latest">stable (v4)</option>
              
              <option value="3.2">v3.2</option>
              
            </select>
            
              <div class="o-distance-l">
                <h3 class="c-category-title">Getting Started</h3>
                <ul class="o-list-bare">
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/overview.html" title="Overview" class="u-link-uniform ">Overview</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/installation.html" title="Installation" class="u-link-uniform ">Installation</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/faq.html" title="FAQ" class="u-link-uniform ">FAQ</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                </ul>
              
            
              <div class="o-distance-xl">
                <h3 class="c-category-title">General Usage</h3>
                <ul class="o-list-bare">
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/create_project.html" title="Creating apps" class="u-link-uniform ">Creating apps</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/structure.html" title="App structure" class="u-link-uniform ">App structure</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/running_apps.html" title="Running apps" class="u-link-uniform ">Running apps</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/dashboard.html" title="Using the dashboard" class="u-link-uniform ">Using the dashboard</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/using_the_console.html" title="Using the console" class="u-link-uniform ">Using the console</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/environments.html" title="Environments" class="u-link-uniform ">Environments</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/configuration.html" title="Configuration" class="u-link-uniform ">Configuration</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/pipeline_and_webpack.html" title="Building & Compiling" class="u-link-uniform ">Building & Compiling</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/javascript_usage.html" title="Using EmbarkJS" class="u-link-uniform ">Using EmbarkJS</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                </ul>
              </div>
            
              <div class="o-distance-xl">
                <h3 class="c-category-title">Smart Contract Development</h3>
                <ul class="o-list-bare">
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/contracts_configuration.html" title="Configuration" class="u-link-uniform ">Configuration</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/contracts_deployment.html" title="Accounts & Deployment" class="u-link-uniform ">Accounts & Deployment</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/contracts_imports.html" title="Special Imports" class="u-link-uniform ">Special Imports</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/contracts_testing.html" title="Testing" class="u-link-uniform is-active">Testing</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/contracts_javascript.html" title="Smart Contracts in JavaScript" class="u-link-uniform ">Smart Contracts in JavaScript</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                </ul>
              </div>
            
              <div class="o-distance-xl">
                <h3 class="c-category-title">Blockchain Client</h3>
                <ul class="o-list-bare">
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/blockchain_configuration.html" title="Configuration" class="u-link-uniform ">Configuration</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/blockchain_accounts_configuration.html" title="Managing Accounts" class="u-link-uniform ">Managing Accounts</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                </ul>
              </div>
            
              <div class="o-distance-xl">
                <h3 class="c-category-title">Storage (IPFS/Swarm)</h3>
                <ul class="o-list-bare">
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/storage_configuration.html" title="Configuration" class="u-link-uniform ">Configuration</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/storage_deployment.html" title="Deploying apps" class="u-link-uniform ">Deploying apps</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/storage_javascript.html" title="Storage APIs in JavaScript" class="u-link-uniform ">Storage APIs in JavaScript</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                </ul>
              </div>
            
              <div class="o-distance-xl">
                <h3 class="c-category-title">Messages (Whisper)</h3>
                <ul class="o-list-bare">
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/messages_configuration.html" title="Configuration" class="u-link-uniform ">Configuration</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/messages_javascript.html" title="Messages in JavaScript" class="u-link-uniform ">Messages in JavaScript</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                </ul>
              </div>
            
              <div class="o-distance-xl">
                <h3 class="c-category-title">Naming Systems (ENS)</h3>
                <ul class="o-list-bare">
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/naming_configuration.html" title="Configuration" class="u-link-uniform ">Configuration</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/naming_javascript.html" title="Naming Systems in JavaScript" class="u-link-uniform ">Naming Systems in JavaScript</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                </ul>
              </div>
            
              <div class="o-distance-xl">
                <h3 class="c-category-title">Plugins</h3>
                <ul class="o-list-bare">
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/installing_plugins.html" title="Installing plugins" class="u-link-uniform ">Installing plugins</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/creating_plugins.html" title="Creating plugins" class="u-link-uniform ">Creating plugins</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/plugin_reference.html" title="Plugin APIs" class="u-link-uniform ">Plugin APIs</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                </ul>
              </div>
            
              <div class="o-distance-xl">
                <h3 class="c-category-title">Cockpit Guides</h3>
                <ul class="o-list-bare">
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/cockpit_introduction.html" title="Introduction" class="u-link-uniform ">Introduction</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/cockpit_dashboard.html" title="Using the Dashboard" class="u-link-uniform ">Using the Dashboard</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/cockpit_deployment.html" title="Deployment" class="u-link-uniform ">Deployment</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/cockpit_explorer.html" title="Explorer View" class="u-link-uniform ">Explorer View</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/cockpit_editor.html" title="Code Editor" class="u-link-uniform ">Code Editor</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/cockpit_debugger.html" title="Using the Debugger" class="u-link-uniform ">Using the Debugger</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                </ul>
              </div>
            
              <div class="o-distance-xl">
                <h3 class="c-category-title">Reference</h3>
                <ul class="o-list-bare">
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/embark_commands.html" title="CLI Commands" class="u-link-uniform ">CLI Commands</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                </ul>
              </div>
            
              <div class="o-distance-xl">
                <h3 class="c-category-title">Miscellaneous</h3>
                <ul class="o-list-bare">
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/migrating_from_3.x.html" title="Migrating from Embark 3.x" class="u-link-uniform ">Migrating from Embark 3.x</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/troubleshooting.html" title="Troubleshooting" class="u-link-uniform ">Troubleshooting</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                  <li class="o-list-bare__item">
                    <a href="/docs/contributing.html" title="Contributing" class="u-link-uniform ">Contributing</a>
                    <!-- <div class="o-distance-m">
                      <ul class="o-list-bare c-navigation__subnav">
                        <li class="o-list-bare__item">
                          <a href="#" title="What is Embark?" class="u-link-uniform">What is Embark?</a>
                        </li>
                      </ul>
                    </div> -->
                  </li>
                  
                </ul>
              </div>
            
          </nav>
        </div>
      </div>
      <div class="o-guided-content__content">
        <p class="c-meta">Last updated: January 7th 2020
          (<a href="https://github.com/embark-framework/embark/edit/master/site/source/docs/contracts_testing.md" target="_blank">
            Improve this guide <svg class="c-icon c-icon--xs"><use xlink:href="/../../assets/icons/symbols.svg#icon-pen-write-paper"></use></svg>
          </a>)
        </p>
        <div class="o-standard-page">
          <h1>Testing Smart Contracts</h1>
          <p>Testing is a crucial part of developing robust and high-quality software. That’s why Embark aims to make testing our Smart Contract as easy as possible. In this guide we’ll explore Embark specific testing APIs and how to write tests for our Smart Contracts.</p>
<h2 id="Creating-tests"><a href="#Creating-tests" class="headerlink" title="Creating tests"></a>Creating tests</h2><p>Test files resides in a project’s <code>test</code> folder. Any JavaScript file within <code>test/</code> is considered a spec file and will be executed by Embark as such. A spec file contains test specs which are grouped in <code>contract()</code> functions. A single spec is written using <code>it()</code> blocks. </p>
<p>Here’s what such a test could look like:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">contract(&apos;SomeContract&apos;, () =&gt; &#123;</span><br><span class="line">  it(&apos;should pass&apos;, () =&gt; &#123;</span><br><span class="line">    assert.ok(true);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>This is a single test spec which will always pass. We’re using a globally available <code>assert</code> object to make assertions in our specs. If you’re familiar with the <a href="https://mochajs.org" target="_blank" rel="noopener">Mocha testing framework</a>, this syntax might be familiar. In fact, Embark uses Mocha as a test runner behind the scenes.</p>
<p><code>contract()</code> is just an alias for Mocha’s <code>describe()</code> function and is globally available. In general, global functions and objects are:</p>
<ul>
<li><code>contract()</code>: Same as Mocha’s <code>describe</code></li>
<li><code>config()</code>: Function to configure Embark and deploy contracts</li>
<li><code>web3</code>: Web3 object</li>
<li><code>assert</code>: Node’s assert</li>
<li>Mocha functions: <code>describe()</code>, <code>it()</code>, <code>before()</code>, etc.</li>
</ul>
<h3 id="Importing-EmbarkJS"><a href="#Importing-EmbarkJS" class="headerlink" title="Importing EmbarkJS"></a>Importing EmbarkJS</h3><p>If we want to use any of EmbarkJS’ APIs, we can require it as expected:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const EmbarkJS = require(&apos;Embark/EmbarkJS&apos;);</span><br></pre></td></tr></table></figure>

<p>For more information on EmbarkJS’s APIs, head over to <a href="/docs/javascript_usage.html">this guide</a>.</p>
<h2 id="Running-tests"><a href="#Running-tests" class="headerlink" title="Running tests"></a>Running tests</h2><p>Once we’ve written our tests, we can execute them using Embark’s <code>test</code> command:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ embark test</span><br></pre></td></tr></table></figure>

<p>As mentioned earlier, this will pick up all files inside the <code>test/</code> folder and run them as test files.</p>
<h3 id="Running-test-subsets"><a href="#Running-test-subsets" class="headerlink" title="Running test subsets"></a>Running test subsets</h3><p>If we aren’t interested in running all tests but only a specific subset, we can specify a test file as part of the <code>test</code> command like this:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ embark test test/SomeContract_spec.js</span><br></pre></td></tr></table></figure>

<h3 id="Running-tests-against-a-different-node"><a href="#Running-tests-against-a-different-node" class="headerlink" title="Running tests against a different node"></a>Running tests against a different node</h3><p>By default, tests are run using an Ethereum simulator (<a href="https://www.truffleframework.com/ganache" target="_blank" rel="noopener">Ganache</a>). We can use the <code>--node</code> option to change that behavior. Passing <code>--node embark</code> to <code>embark test</code> will use the Ethereum node associated with an already running embark process. We can also specify a custom endpoint, for example:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ embark test --node ws://localhost:8556</span><br></pre></td></tr></table></figure>

<h3 id="Outputting-gas-cost-details"><a href="#Outputting-gas-cost-details" class="headerlink" title="Outputting gas cost details"></a>Outputting gas cost details</h3><p>When running tests, we can even get an idea of what the gas costs of our Smart Contract deployments are. Embark comes with a <code>--gasDetails</code> option that makes this possible.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ embark test --gasDetails</span><br></pre></td></tr></table></figure>

<h2 id="Test-environment"><a href="#Test-environment" class="headerlink" title="Test environment"></a>Test environment</h2><p>When running tests, the default [environment}(/docs/environments.html) is <code>test</code>. You can obviously change this using the <code>--env</code> flag.</p>
<p>The special thing with the <code>test</code> environment is that if you do not have a <code>test</code> section in your module configuration, that module with be disabled (<code>enabled: false</code>). This is done to speed up the test as if you don’t need a module, it is disabled.</p>
<h2 id="Configuring-Smart-Contracts-for-tests"><a href="#Configuring-Smart-Contracts-for-tests" class="headerlink" title="Configuring Smart Contracts for tests"></a>Configuring Smart Contracts for tests</h2><p>Very similar to how we <a href="/docs/contracts_configuration.html">configure our Smart Contracts</a> for deployment, we have to configure them for our tests as well. This is important, so that our Smart Contracts get deployed with the correct testing data.</p>
<p>To do that, Embark adds a global <code>config()</code> function to the execution context, which uses the same API as the configuration object for our application’s Smart Contracts. So if we had a <code>SomeContract</code> that should be picked up for deployment, this is what the configuration would look like:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">config(&#123;</span><br><span class="line">  contracts: &#123;</span><br><span class="line">    deploy: &#123;</span><br><span class="line">      SomeContract: &#123;&#125; // options as discussed in Smart Contract configuration guide</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">contract(&apos;SomContract&apos;, () =&gt; &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>One thing that’s important to note here is that, behind the scenes, Embark has to run <code>config()</code> first to deploy the Smart Contracts and only <strong>then</strong> starts running tests. This will have an impact on the developer experience when importing Smart Contract instances within spec files. But more on that later.</p>
<div class="c-notification c-notification--info">
  <p><strong>A note on config()</strong></p>
  <p></p><p>The global <code>config()</code> function is used for Smart Contract deployment and therefore delays the execution of tests until deployment is done.</p>
<p></p>
</div> 



<h2 id="Accessing-Smart-Contract-instances"><a href="#Accessing-Smart-Contract-instances" class="headerlink" title="Accessing Smart Contract instances"></a>Accessing Smart Contract instances</h2><p>To write meaningful tests, we obviously want to interact with our Smart Contracts. As we know, <a href="/docs/javascript_usage.html#Embark-Artifacts">Embark generates Smart Contract instances</a> for us. All we have to do is importing and using them accordingly.</p>
<p>The following code imports <code>SomeContract</code> and calls an imaginary method on it inside a spec:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const SomeContract = require(&apos;EmbarkJS/contracts/SomeContract&apos;);</span><br><span class="line"></span><br><span class="line">config(&#123;</span><br><span class="line">  contracts: &#123;</span><br><span class="line">    deploy: &#123;</span><br><span class="line">      SomeContract: &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">contract(&apos;SomeContract&apos;, () =&gt; &#123;</span><br><span class="line"></span><br><span class="line">  it(&apos;should do something&apos;, async () =&gt; &#123;</span><br><span class="line">    const result = await SomeContract.methods.doSomething.call();</span><br><span class="line">    assert.equal(result, &apos;foo&apos;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>There’s one gotcha to keep in mind though. Looking at the snippet above, it seems like we can use <code>SmartContract</code> right away once it is imported. However, this is not actually true. As mentioned earlier, Embark first has to actually deploy our Smart Contracts and until that happens, all imported Smart Contract references are empty objects.</p>
<p>This is not a problem anymore when using Smart Contract instances inside spec blocks, because we know that tests are executed after all Smart Contracts have been deployed. Embark will hydrate the imported references with actual data before the tests are run.</p>
<div class="c-notification c-notification--info">
  <p><strong>Smart Contract reference hydration</strong></p>
  <p></p><p>Smart Contract references imported from EmbarkJS are empty until the Smart Contract are actually deployed. This means Smart Contract references can only be used inside <code>contract()</code> blocks.</p>
<p></p>
</div> 



<h2 id="Configuring-accounts"><a href="#Configuring-accounts" class="headerlink" title="Configuring accounts"></a>Configuring accounts</h2><p>Accounts within the testing environment can be configured <a href="/docs/contracts_deployment.html">just like we’re used to</a>. The same rules apply here, and <a href="/docs/contracts_deployment.html#Configuring-account-balance-for-development">configuring an Ether balance</a> is supported as well. Configuring custom accounts in tests is especially useful if we want to use a specific account for our tests. </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">config(&#123;</span><br><span class="line">  blockchain: &#123;</span><br><span class="line">    accounts: [</span><br><span class="line">      &#123;</span><br><span class="line">        privateKeyFile: &apos;path/to/file&apos;,</span><br><span class="line">        balance: &apos;42 shannon&apos;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="Accessing-Accounts"><a href="#Accessing-Accounts" class="headerlink" title="Accessing Accounts"></a>Accessing Accounts</h2><p>Obviously, we want to access all configured accounts as well. Sometimes we want to test functions or methods that require us to specify a <code>from</code> address to send transactions from. For those cases we very likely want to access any of our our available accounts.</p>
<p>All available accounts are emitted by <code>config()</code> and can be accessed using a callback parameter like this:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let accounts = [];</span><br><span class="line"></span><br><span class="line">config(&#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;, (err, accounts) =&gt; &#123;</span><br><span class="line">  accounts = accounts;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>You can also grab the accounts from the callback of the <code>contract()</code> function (<code>describe</code> alias):</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">contract(&apos;SomeContract&apos;, (accounts) =&gt; &#123;</span><br><span class="line">  const myAccounts = accounts[0];</span><br><span class="line"></span><br><span class="line">  it(&apos;should do something&apos;, async () =&gt; &#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="Connecting-to-a-different-node"><a href="#Connecting-to-a-different-node" class="headerlink" title="Connecting to a different node"></a>Connecting to a different node</h2><p>By default, Embark will use an internal VM to run the tests. However we can also specify a node to connect to and run the tests there, using the <code>host</code>, <code>port</code> and <code>type</code> options as shown below:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">config(&#123;</span><br><span class="line">  blockchain: &#123;</span><br><span class="line">    &quot;endpoint&quot;: &quot;http://localhost:8545&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="Configuring-modules"><a href="#Configuring-modules" class="headerlink" title="Configuring modules"></a>Configuring modules</h2><p>You can configure the different Embark modules directly in your test file. The available modules are: <a href="/docs/storage_configuration.html">storage</a>, <a href="/docs/naming_configuration.html">namesystem</a> and <a href="/docs/messages_configuration.html">communication</a>.</p>
<p>All configuration options for the respective modules are available. Also, the configurations you put inside the <code>config</code> function are merged inside the ones that are in the configuration file (meaning that you don’t have to put all the provider options if they are already in the default configs).</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">config(&#123;</span><br><span class="line">  storage: &#123;</span><br><span class="line">    enabled: true</span><br><span class="line">  &#125;,</span><br><span class="line">  communication: &#123;</span><br><span class="line">    enabled: true</span><br><span class="line">  &#125;,</span><br><span class="line">  namesystem: &#123;</span><br><span class="line">    enabled: true,</span><br><span class="line">    register: &#123;</span><br><span class="line">      rootDomain: &quot;test.eth&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>If the module is not started (eg. IPFS), Embark will start it for you.</p>
<h2 id="Manually-deploying-Smart-Contracts"><a href="#Manually-deploying-Smart-Contracts" class="headerlink" title="Manually deploying Smart Contracts"></a>Manually deploying Smart Contracts</h2><p>As mentioned earlier, Embark handles the deployment of our Smart Contracts using  the function <code>config()</code> function. If we wish to deploy particular Smart Contracts manually, we can do so using an imported Smart Contract reference. We just need to make sure that we’re doing this inside a <code>contract()</code> block as discussed earlier:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const SimpleStorage = require(&apos;Embark/contracts/SimpleStorage&apos;);</span><br><span class="line"></span><br><span class="line">contract(&apos;SimpleStorage Deploy&apos;, () =&gt; &#123;</span><br><span class="line">  let SimpleStorageInstance;</span><br><span class="line"></span><br><span class="line">  before(async function() &#123;</span><br><span class="line">    SimpleStorageInstance = await SimpleStorage.deploy(&#123; arguments: [150] &#125;).send();</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  it(&apos;should set constructor value&apos;, async () =&gt; &#123;</span><br><span class="line">    let result = await SimpleStorageInstance.methods.storedData().call();</span><br><span class="line">    assert.strictEqual(parseInt(result, 10), 150);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="Util-functions"><a href="#Util-functions" class="headerlink" title="Util functions"></a>Util functions</h2><h3 id="assert-reverts"><a href="#assert-reverts" class="headerlink" title="assert.reverts"></a>assert.reverts</h3><p>Using <code>assert.reverts</code>, you can easily assert that your transaction reverts.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">await</span> assert.reverts(contractMethodAndArguments[, options][, message])</span><br></pre></td></tr></table></figure>

<ul>
<li><code>contractMethodAndArguments</code>: [Function] Contract method to call <code>send</code> on, including the arguments</li>
<li><code>options</code>: [Object] Optional options to pass to the <code>send</code> function</li>
<li><code>message</code>: [String] Optional string to match the revert message</li>
</ul>
<p>Returns a promise that you can wait for with <code>await</code>.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">it(<span class="string">"should revert with a value lower than 5"</span>, <span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">await</span> assert.reverts(SimpleStorage.methods.setHigher5(<span class="number">2</span>), &#123;<span class="attr">from</span>: web3.eth.defaultAccount&#125;,</span><br><span class="line">      <span class="string">'Returned error: VM Exception while processing transaction: revert Value needs to be higher than 5'</span>);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<h3 id="assert-eventEmitted"><a href="#assert-eventEmitted" class="headerlink" title="assert.eventEmitted"></a>assert.eventEmitted</h3><p>Using <code>eventEmitted</code>, you can assert that a transaction has emitted an event. You can also check for the returned values.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">assert.eventEmitted(transaction, event[, values])</span><br></pre></td></tr></table></figure>

<ul>
<li><code>transaction</code>: [Object] Transaction object returns by a <code>send</code> call</li>
<li><code>event</code>: [String] Name of the event being emitted</li>
<li><code>values</code>: [Array or Object] Optional array or object of the returned values of the event.<ul>
<li>Using array: The order of the values put in the array need to match the order in which the values are returned by the event</li>
<li>Using object: The object needs to have the right key/value pair(s)</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">it(<span class="string">'asserts that the event was triggered'</span>, <span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"> <span class="keyword">const</span> transaction = <span class="keyword">await</span> SimpleStorage.methods.set(<span class="number">100</span>).send();</span><br><span class="line"> assert.eventEmitted(transaction, <span class="string">'EventOnSet'</span>, &#123;<span class="attr">value</span>: <span class="string">"100"</span>, <span class="attr">success</span>: <span class="literal">true</span>&#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="increaseTime"><a href="#increaseTime" class="headerlink" title="increaseTime"></a>increaseTime</h3><p>This function lets you increase the time of the EVM. It is useful in the case where you want to test expiration times for example.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">await</span> increaseTime(amount);</span><br></pre></td></tr></table></figure>

<p><code>amount</code>: [Number] Number of seconds to increase</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">it(<span class="string">"should have expired after increasing time"</span>, <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">await</span> increaseTime(<span class="number">5001</span>);</span><br><span class="line">    <span class="keyword">const</span> isExpired = <span class="keyword">await</span> Expiration.methods.isExpired().call();</span><br><span class="line">    assert.strictEqual(isExpired, <span class="literal">true</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="Code-coverage"><a href="#Code-coverage" class="headerlink" title="Code coverage"></a>Code coverage</h2><p>Embark allows you to generate a coverage report for your Solidity Smart Contracts by passing the <code>--coverage</code> option on the <code>embark test</code> command.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ embark test --coverage</span><br></pre></td></tr></table></figure>

<p>The generated report looks something like this:</p>
<p><img src="/coverage-files.png" alt="Coverage Report: Files"></p>
<p>This gives us a birds-eye view on the state of the coverage of our Smart Contracts: how many of the functions were called, how many lines were hit, even whether all the branch cases were executed. When selecting a file, a more detailed report is produced. Here’s what it looks like:</p>
<p><img src="/coverage-report.png" alt="Coverage Report: Detailed"></p>

        </div>
        <div class="o-container-medium o-distance-l">
          <div class="o-flex o-flex-space-between">
  
  <div class="o-flex__item">
    <a href="/docs/contracts_imports.html" class="c-button c-button--quite" title="Previous article">Previous</a>
  </div>
  
  
  <div class="o-flex__item">
    <a href="/docs/contracts_javascript.html" class="c-button c-button--quite" title="Next article">Next</a>
  </div>
  
</div>


        </div>
      </div>
      <div class="o-guided-content__addition">
        <h3 class="c-category-title">Contents</h3>
        <ol class="o-list-bare"><li class="o-list-bare__item o-list-bare-level-2 o-ellipsis"><a href="#Creating-tests" class="u-link-uniform">Creating tests</a><ol class="o-list-bare__child"><li class="o-list-bare__item o-list-bare-level-3 o-ellipsis"><a href="#Importing-EmbarkJS" class="u-link-uniform">Importing EmbarkJS</a></li></ol></li><li class="o-list-bare__item o-list-bare-level-2 o-ellipsis"><a href="#Running-tests" class="u-link-uniform">Running tests</a><ol class="o-list-bare__child"><li class="o-list-bare__item o-list-bare-level-3 o-ellipsis"><a href="#Running-test-subsets" class="u-link-uniform">Running test subsets</a></li><li class="o-list-bare__item o-list-bare-level-3 o-ellipsis"><a href="#Running-tests-against-a-different-node" class="u-link-uniform">Running tests against a different node</a></li><li class="o-list-bare__item o-list-bare-level-3 o-ellipsis"><a href="#Outputting-gas-cost-details" class="u-link-uniform">Outputting gas cost details</a></li></ol></li><li class="o-list-bare__item o-list-bare-level-2 o-ellipsis"><a href="#Test-environment" class="u-link-uniform">Test environment</a></li><li class="o-list-bare__item o-list-bare-level-2 o-ellipsis"><a href="#Configuring-Smart-Contracts-for-tests" class="u-link-uniform">Configuring Smart Contracts for tests</a></li><li class="o-list-bare__item o-list-bare-level-2 o-ellipsis"><a href="#Accessing-Smart-Contract-instances" class="u-link-uniform">Accessing Smart Contract instances</a></li><li class="o-list-bare__item o-list-bare-level-2 o-ellipsis"><a href="#Configuring-accounts" class="u-link-uniform">Configuring accounts</a></li><li class="o-list-bare__item o-list-bare-level-2 o-ellipsis"><a href="#Accessing-Accounts" class="u-link-uniform">Accessing Accounts</a></li><li class="o-list-bare__item o-list-bare-level-2 o-ellipsis"><a href="#Connecting-to-a-different-node" class="u-link-uniform">Connecting to a different node</a></li><li class="o-list-bare__item o-list-bare-level-2 o-ellipsis"><a href="#Configuring-modules" class="u-link-uniform">Configuring modules</a></li><li class="o-list-bare__item o-list-bare-level-2 o-ellipsis"><a href="#Manually-deploying-Smart-Contracts" class="u-link-uniform">Manually deploying Smart Contracts</a></li><li class="o-list-bare__item o-list-bare-level-2 o-ellipsis"><a href="#Util-functions" class="u-link-uniform">Util functions</a><ol class="o-list-bare__child"><li class="o-list-bare__item o-list-bare-level-3 o-ellipsis"><a href="#assert-reverts" class="u-link-uniform">assert.reverts</a></li><li class="o-list-bare__item o-list-bare-level-3 o-ellipsis"><a href="#assert-eventEmitted" class="u-link-uniform">assert.eventEmitted</a></li><li class="o-list-bare__item o-list-bare-level-3 o-ellipsis"><a href="#increaseTime" class="u-link-uniform">increaseTime</a></li></ol></li><li class="o-list-bare__item o-list-bare-level-2 o-ellipsis"><a href="#Code-coverage" class="u-link-uniform">Code coverage</a></li></ol>
      </div>
    </div>
  </section>
</main>

<script src="/js/linkjuice/dist/linkjuice.min.js"></script>

    <footer role="contentinfo" class="c-footer o-distance-xxl">
  <div class="o-container">
    <div class="c-footer__top">
      <p class="c-category-title c-footer__top__title u-text-light">
        <a href="/" class="c-logo c-logo--negative" title="Embark">Embark</a>
      </p>
    </div>
    <div class="c-footer__body">
      <div class="o-grid">
        <div class="o-grid__column--1-1 o-grid__column--medium-1-2 o-grid__column--large-1-5">
          <p class="c-category-title u-text-light">Resources</p>
          <ul class="o-list-bare">
            <li class="o-list-bare__item">
              <a href="/docs/quick_start.html" class="u-link-ghost" title="Quick Start">Quick Start</a>
            </li>
            <li class="o-list-bare__item">
              <a href="/docs" class="u-link-ghost" title="Documentation">Documentation</a>
            </li>
            <li class="o-list-bare__item">
              <a href="/news" class="u-link-ghost" title="Blog">Blog</a>
            </li>
            <li class="o-list-bare__item">
              <a href="/docs/faq.html" class="u-link-ghost" title="FAQ">FAQ</a>
            </li>
            <li class="o-list-bare__item">
              <a href="/docs/troubleshooting.html" class="u-link-ghost" title="Troubleshooting">Troubleshooting</a>
            </li>
          </ul>
        </div>
        <div class="o-grid__column--1-1 o-grid__column--medium-1-2 o-grid__column--large-1-5">
          <p class="c-category-title u-text-light">Help</p>
          <ul class="o-list-bare">
            <li class="o-list-bare__item">
              <a href="https://stackoverflow.com/questions/tagged/embark" class="u-link-ghost" title="Embark Questions">Stack Overflow</a>
            </li>
            <li class="o-list-bare__item">
              <a href="https://gitter.im/embark-framework/Lobby" class="u-link-ghost" title="Gitter">Gitter</a>
            </li>
            <li class="o-list-bare__item">
              <a href="https://github.com/embark-framework/embark/issues" class="u-link-ghost" title="Report issues">Report issues</a>
            </li>
            <li class="o-list-bare__item">
              <a href="https://github.com/embark-framework/embark/blob/master/CODE_OF_CONDUCT.md" class="u-link-ghost" title="Code of Conduct">Code of Conduct</a>
            </li>
          </ul>
        </div>
        <div class="o-grid__column--1-1 o-grid__column--medium-1-2 o-grid__column--large-1-5">
          <p class="c-category-title u-text-light">Community</p>
          <ul class="o-list-bare">
            <li class="o-list-bare__item">
              <a href="https://github.com/embark-framework" class="u-link-ghost" title="Github">Github</a>
            </li>
            <li class="o-list-bare__item">
              <a href="https://twitter.com/EmbarkProject" class="u-link-ghost" title="Twitter">Twitter</a>
            </li>
            <li class="o-list-bare__item">
              <a href="/docs/contributing.html" class="u-link-ghost" title="Contribute">Contribute</a>
            </li>
            <li class="o-list-bare__item">
              <a href="/community/#team" class="u-link-ghost" title="Team">Team</a>
            </li>
          </ul>
        </div>

        <div class="o-grid__column--1-1 o-grid__column--medium-1-2 o-grid__column--large-1-4">
          <p class="c-category-title u-text-light">The Status Network</p>
          <ul class="o-list-bare two-columns">
            <li class="o-list-bare__item"><a class="u-link-ghost" href="https://status.im/" target="_blank">Status</a></li>
            <li class="o-list-bare__item"><a class="u-link-ghost" href="https://keycard.tech/" target="_blank">Keycard</a></li>
            <li class="o-list-bare__item"><a class="u-link-ghost" href="https://dap.ps/" target="_blank">dap.ps</a></li>
            <li class="o-list-bare__item"><a class="u-link-ghost" href="https://embark.status.im/" target="_blank">Embark</a></li>
            <li class="o-list-bare__item"><a class="u-link-ghost" href="https://subspace.status.im/" target="_blank">Subspace</a></li>
            <li class="o-list-bare__item"><a class="u-link-ghost" href="https://vac.dev/" target="_blank">Vac</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="c-footer__bottom">
      <p class="u-text-light">
        <a href="https://status.im/privacy-policy.html" title="Privacy Policy" target="_blank" class="u-text-light">Privacy Policy</a>
        / © 2019-2020 Embark
      </p>
    </div>
  </div>
</footer>




    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.4/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <script>
      const EMBARK_DOC_VERSIONS = {
        'latest': 'https://embark.status.im/docs','3.2': 'https://5ca4e0fdb29712000adde37f--embark-site-versions.netlify.com/docs/'
      };
    </script>

    
    <!-- Fathom - simple website analytics - https://github.com/usefathom/fathom -->
    <script>
    (function(f, a, t, h, o, m){
        a[h]=a[h]||function(){(a[h].q=a[h].q||[]).push(arguments)};
        o=f.createElement('script'),
        m=f.getElementsByTagName('script')[0];
        o.async=1; o.src=t; o.id='fathom-script';
        m.parentNode.insertBefore(o,m)
    })(document, window, '//fathom.status.im/tracker.js', 'fathom');
    fathom('set', 'siteId', 'JOQKN');
    fathom('trackPageview');
    </script>
    <!-- / Fathom -->
    

    <script src="/js/index.js"></script>

    
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
    <script type="text/javascript">
      docsearch({
        apiKey: '439d8dc2add18007a2f31be4a9c0ed70',
        indexName: 'embark',
        inputSelector: '#search-input'
      });
    </script>
    
  </body>
</html>

